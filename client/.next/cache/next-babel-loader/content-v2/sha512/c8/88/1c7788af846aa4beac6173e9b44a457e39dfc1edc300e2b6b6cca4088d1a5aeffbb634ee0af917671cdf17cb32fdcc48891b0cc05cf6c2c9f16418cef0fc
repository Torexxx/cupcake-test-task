{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Timofey\\\\Desktop\\\\cupcake\\\\cupcake-frontend-test-task\\\\client\\\\pages\\\\index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport styles from '../styles/Home.module.css';\n\nvar Index = function Index() {\n  _s();\n\n  var arr = [];\n  var arr1 = {\n    first: 0,\n    second: 0,\n    third: 0\n  };\n\n  function calc(market, curr1, curr2) {\n    if (market.RUB || market.USD || market.EUR) {\n      if (arr.length >= 3) {\n        arr = [];\n      } else {\n        arr1.first = (first.RUB / first.USD).toFixed(2);\n        arr1.second = (second.RUB / second.USD).toFixed(2);\n        arr1.third = (third.RUB / third.USD).toFixed(2); // arr.push((first.RUB / first.USD).toFixed(2))\n        // arr.push((second.RUB / second.USD).toFixed(2))\n        // arr.push((third.RUB / third.USD).toFixed(2))\n\n        var allvalues = Object.keys(arr1).map(function (key) {\n          return arr1[key];\n        });\n        console.log(allvalues);\n      } // if (arr.length) {\n\n\n      var inlineMin = Math.min.apply(null, allvalues); // }\n\n      if ((market[curr1] / market[curr2]).toFixed(2) == inlineMin) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.min,\n          children: [(market[curr1] / market[curr2]).toFixed(2), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 16\n        }, this);\n      } // console.log('---------', (market[curr1] / market[curr2]).toFixed(2))\n\n\n      return (market[curr1] / market[curr2]).toFixed(2);\n    }\n  }\n\n  var _useState = useState({\n    RUB: 0,\n    USD: 0,\n    EUR: 0\n  }),\n      first = _useState[0],\n      setFirst = _useState[1];\n\n  var _useState2 = useState({\n    RUB: 0,\n    USD: 0,\n    EUR: 0\n  }),\n      second = _useState2[0],\n      setSecond = _useState2[1];\n\n  var _useState3 = useState({\n    RUB: 0,\n    USD: 0,\n    EUR: 0\n  }),\n      third = _useState3[0],\n      setThird = _useState3[1];\n\n  var _useState4 = useState([]),\n      total = _useState4[0],\n      setTotal = _useState4[1]; // arr.push(...first.RUB, first.RUB / first.USD);\n  // arr.push(...second.RUB, second.RUB / second.USD);\n  // arr.push(...third.RUB, third.RUB / third.USD);\n\n\n  useEffect(function () {\n    var timeout = setTimeout(function () {\n      axios('http://localhost:5000/api/v1/first').then(function (res) {\n        return setFirst(res.data.rates);\n      });\n    }, 3000);\n    return function () {\n      clearTimeout(timeout);\n    };\n  }, [first]);\n  useEffect(function () {\n    var timeout = setTimeout(function () {\n      axios('http://localhost:5000/api/v1/second').then(function (res) {\n        return setSecond(res.data.rates);\n      });\n    }, 3000);\n    return function () {\n      clearTimeout(timeout);\n    };\n  }, [second]);\n  useEffect(function () {\n    var timeout = setTimeout(function () {\n      axios('http://localhost:5000/api/v1/third').then(function (res) {\n        return setThird(res.data.rates);\n      });\n    }, 3000);\n    return function () {\n      clearTimeout(timeout);\n    };\n  }, [third]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.wrapper,\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      className: styles.respTab,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Pair name/market\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"First\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Second\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Third\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"RUB/CUPCAKE \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\" \", first.RUB.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\" \", second.RUB.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\" \", third.RUB.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"USD/CUPCAKE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\" \", first.USD.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\" \", second.USD.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\" \", third.USD.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"EUR/CUPCAKE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\" \", first.EUR.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: second.EUR.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\" \", third.EUR.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"RUB/USD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: calc(first, 'RUB', 'USD') || 'Загрузка...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: calc(second, 'RUB', 'USD') || 'Загрузка...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: calc(third, 'RUB', 'USD') || 'Загрузка...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"RUB/EUR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: calc(first, 'RUB', 'EUR') || 'Загрузка...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: calc(second, 'RUB', 'EUR') || 'Загрузка...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: calc(third, 'RUB', 'EUR') || 'Загрузка...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"EUR/USD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: calc(first, 'EUR', 'USD') || 'Загрузка...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: calc(second, 'EUR', 'USD') || 'Загрузка...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: calc(third, 'EUR', 'USD') || 'Загрузка...'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Index, \"1S/CTuPzzmGjF4/Bga3Yrqs8LgQ=\");\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["C:/Users/Timofey/Desktop/cupcake/cupcake-frontend-test-task/client/pages/index.js"],"names":["useEffect","useState","axios","styles","Index","arr","arr1","first","second","third","calc","market","curr1","curr2","RUB","USD","EUR","length","toFixed","allvalues","Object","keys","map","key","console","log","inlineMin","Math","min","apply","setFirst","setSecond","setThird","total","setTotal","timeout","setTimeout","then","res","data","rates","clearTimeout","wrapper","respTab"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport styles from '../styles/Home.module.css';\n\nconst Index = () => {\n  let arr = [];\n  let arr1 = {\n    first: 0,\n    second: 0,\n    third: 0,\n  }\n  function calc(market, curr1, curr2) {\n    if (market.RUB || market.USD || market.EUR) {\n      if (arr.length >= 3) {\n        arr = [];\n      } else {\n        arr1.first = (first.RUB / first.USD).toFixed(2)\n        arr1.second = (second.RUB / second.USD).toFixed(2)\n        arr1.third = (third.RUB / third.USD).toFixed(2)\n        // arr.push((first.RUB / first.USD).toFixed(2))\n        // arr.push((second.RUB / second.USD).toFixed(2))\n        // arr.push((third.RUB / third.USD).toFixed(2))\n\n        var allvalues = Object.keys(arr1).map(function(key){return arr1[key];});\n        console.log(allvalues);\n      }\n      // if (arr.length) {\n      let inlineMin = Math.min.apply(null, allvalues)\n      // }\n      if ((market[curr1] / market[curr2]).toFixed(2) == inlineMin ) {\n        return <div className={styles.min}>{ (market[curr1] / market[curr2]).toFixed(2)} </div> ;\n      }\n      // console.log('---------', (market[curr1] / market[curr2]).toFixed(2))\n\n      return (market[curr1] / market[curr2]).toFixed(2);\n    }\n  }\n  let [first, setFirst] = useState({\n    RUB: 0,\n    USD: 0,\n    EUR: 0,\n  });\n  let [second, setSecond] = useState({\n    RUB: 0,\n    USD: 0,\n    EUR: 0,\n  });\n  let [third, setThird] = useState({\n    RUB: 0,\n    USD: 0,\n    EUR: 0,\n  });\n\n  let [total, setTotal] = useState([]);\n  // arr.push(...first.RUB, first.RUB / first.USD);\n  // arr.push(...second.RUB, second.RUB / second.USD);\n  // arr.push(...third.RUB, third.RUB / third.USD);\n\n\n  useEffect(() => {\n    let timeout = setTimeout(() => {\n      axios('http://localhost:5000/api/v1/first').then((res) =>\n        setFirst(res.data.rates),\n      );\n    }, 3000);\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [first]);\n  useEffect(() => {\n    let timeout = setTimeout(() => {\n      axios('http://localhost:5000/api/v1/second').then((res) =>\n        setSecond(res.data.rates),\n      );\n    }, 3000);\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [second]);\n  useEffect(() => {\n    let timeout = setTimeout(() => {\n      axios('http://localhost:5000/api/v1/third').then((res) =>\n        setThird(res.data.rates),\n      );\n    }, 3000);\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [third]);\n\n  return (\n    <div className={styles.wrapper}>\n      <table className={styles.respTab}>\n        <thead>\n          <tr>\n            <th>Pair name/market</th>\n            <th>First</th>\n            <th>Second</th>\n            <th>Third</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>RUB/CUPCAKE </td>\n            <td> {first.RUB.toFixed(2)}</td>\n            <td> {second.RUB.toFixed(2)}</td>\n            <td> {third.RUB.toFixed(2)}</td>\n          </tr>\n          <tr>\n            <td>USD/CUPCAKE</td>\n            <td> {first.USD.toFixed(2)}</td>\n            <td> {second.USD.toFixed(2)}</td>\n            <td> {third.USD.toFixed(2)}</td>\n          </tr>\n          <tr>\n            <td>EUR/CUPCAKE</td>\n            <td> {first.EUR.toFixed(2)}</td>\n            <td>{second.EUR.toFixed(2)}</td>\n            <td> {third.EUR.toFixed(2)}</td>\n          </tr>\n          <tr>\n            <td>RUB/USD</td>\n            <td>{calc(first, 'RUB', 'USD') || 'Загрузка...'}</td>\n            <td>{calc(second, 'RUB', 'USD') || 'Загрузка...'}</td>\n            <td>{calc(third, 'RUB', 'USD') || 'Загрузка...'}</td>\n          </tr>\n          <tr>\n            <td>RUB/EUR</td>\n            <td>{calc(first, 'RUB', 'EUR') || 'Загрузка...'}</td>\n            <td>{calc(second, 'RUB', 'EUR') || 'Загрузка...'}</td>\n            <td>{calc(third, 'RUB', 'EUR') || 'Загрузка...'}</td>\n          </tr>\n          <tr>\n            <td>EUR/USD</td>\n            <td>{calc(first, 'EUR', 'USD') || 'Загрузка...'}</td>\n            <td>{calc(second, 'EUR', 'USD') || 'Загрузка...'}</td>\n            <td>{calc(third, 'EUR', 'USD') || 'Загрузка...'}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}